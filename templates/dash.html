


  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Job Listings</title>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <link rel="stylesheet" href = "{{ url_for('static', filename='styles/dash.css') }}">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
      <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
 
 
  </head>
  <body>
      <header>
          <div class="logo">
              <img src="static/logo.png" alt="Logo">
          </div>
          <nav>
              <ul>
                  <li><a href="#">Find Jobs</a></li>
                  <li><a href="#">Employers</a></li>
                  <li><a href="#">Upload Job</a></li>
                  <li><a href="#">About Us</a></li>
              </ul>
          </nav>
          <div class="user-profile">
              <span class="username">SNS</span>
              <span class="role">Life Coach</span>
              <img src="static/profile.jpg" alt="Profile Picture">
          </div>
      </header>
  
      <section class="search-section">
         <div class="search-container">
             <form class="search-bar" action="/home" method="GET">
                 <div class="search-box">
                     <input type="text" class="search-input" placeholder="Job title or keyword" name="search" required>
                     <ul class="results"></ul>
                 </div>
                 <button type="submit" class="search-button">Search</button>
             </form>
         </div>
     </section>
     
     <script src="static/scripts/script.js"></script>
     
  
      <div class="content-container">
          <section class="filters-section">
            <div class="filters">
                <form class="apply-filters" action="/home" method="GET">
                    <span class="all-filter-heading">All Filters</span><br><br>
                    <hr><br><br>
                    <div class="date-posted">
                        <span class="filter-heading">Date Posted</span>
                        <button type="button" class="dropdown-content"></button>
                            <div class="Dropdown-details">
                                <label><input type="checkbox" unchecked>Last 24 hours</label>
                                <label><input type="checkbox" unchecked>Last 3 Days</label>
                                <label><input type="checkbox" unchecked>Last 7 Days</label>
                                <label><input type="checkbox" unchecked>Last 14 Days</label>                           
                            </div>
                    </div>
                    <br><br><hr><br><br>
                    <div class="experience">
                        <span class="filter-heading">Experience</span>
                        <button type="button" class="dropdown-content"></button>
                        <div class="Dropdown-details">
                            <br>
                            <div class="slider-container">
                                <div class="slider-balloon"><p>Any</p></div> <!-- Balloon for current value -->
                                <input type="range" class="slider" min="0" max="30" value="100">
                            </div>
                            <div class="experience-limits">
                                <span class="limit-1">0 Yrs</span>
                                <span class="limit-2">Any</span>
                            </div>
                        </div>
                    </div>
                    <br><br><hr><br><br>
                    <div class="employment">
                        <span class="filter-heading">Employment</span>
                        <button type="button" class="dropdown-content"></button>
                        <div class="Dropdown-details">
                            <label><input type="checkbox"> Fulltime</label>
                            <label><input type="checkbox"> Internship</label>
                            <label><input type="checkbox"> Contract</label>
                        </div>
                    </div>
                    <br><br><hr><br><br>
                    <div class="work-mode">
                        <span class="filter-heading">Work Mode</span>
                        <button type="button" class="dropdown-content"></button>
                        <div class="Dropdown-details">
                            <label><input type="checkbox">Remote</label>
                            <label><input type="checkbox">Hybrid</label>
                        </div>
                    </div>
                    <br><br><hr><br>
                    <div class="location">
                        <span class="filter-heading">Location</span>
                        <button type="button" class="dropdown-content"></button>
                        <div class="Dropdown-details">
                            <label><input type="checkbox">Mumbai</label>
                            <label><input type="checkbox">Pune</label>
                            <label><input type="checkbox">Hyderabad</label>
                            <label><input type="checkbox">Bangalore</label>
                        </div>
                    </div>
                    <br><br><hr><br><br>
                    <div class="submit-button">
                        <button type="submit" class="submit-button">Apply Filters</button>
                    </div>
                    <br><br>
                </form>
            </div>
        </section>
  
         
          <section class="job-listings" id="jobListings">
             {% if jobs|length > 0 %}
                 {% for job in jobs %}
                    <div class="job" tabindex="0" data-job-id="{{ job[0] }}" style="cursor: pointer;">
                        <div class='company-details'>
                            <div class="position">
                                <p>{{ job[1] }}</p>  <!-- Job position -->
                            </div>
                            <div class="company">
                                <p>{{ job[2] }}</p>  <!-- Company name -->
                            </div>
                        </div>
                        <div class="job-details-details">
                            <span><svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" fill="currentColor" class="bi bi-briefcase-fill" viewBox="0 -0.5 16 16" style="float: left; margin-left: 5%">
                                <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5"/>
                                <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85z"/>
                              </svg>
                              {{ job[5] }} - {{ job[4] }}</span>  <!-- Detail 2 -->
                            <span>{{ job[3] }}</span>  <!-- Detail 1 -->
                            <span>{{ job[6] }}</span>  <!-- Detail 3 -->
                        </div>
                        <div class="location">
                            <p>{{ job[7] }}</p>  <!-- Job location -->
                        </div>
                        <div class="time">
                            <p>{{ job[8] }}</p>  <!-- Job time -->
                        </div>
                    </div>
                 {% endfor %}
             {% else %}
                 <p>No job listings available.</p>  <!-- Message when no jobs are found -->
             {% endif %}
         </section>
         <div class="modal fade" id="jobModal" tabindex="-1" aria-labelledby="jobModalLabel" aria-hidden="true">
             <div class="modal-dialog modal-lg">
                 <div class="modal-content">
                     <div class="modal-header">
                         <h5 class="modal-title" id="jobModalLabel">JOB DETAILS</h5>
                         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                     </div>
                     <div class="modal-body" id="modalBody">
                         <!-- Job details will be populated here -->
                     </div>
                     <div class="modal-footer">
                         <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                         <button type="button" class="btn btn-primary" id="applyButton">Apply</button>
                     </div>
                 </div>
             </div>
         </div>
         
         
         </div>
     <script>
     document.addEventListener('DOMContentLoaded', () => {
     // Initialize job elements
     const jobElements = document.querySelectorAll('.job');
 
     jobElements.forEach(job => {
         const jobId = job.getAttribute('data-job-id');
 
         job.addEventListener('click', function() {
             fetch(`/job/${jobId}`)
                 .then(response => {
                     // Check if the response is ok (status code 200)
                     if (!response.ok) {
                         throw new Error('Network response was not ok');
                     }
                     return response.json();
                 })
                 .then(data => {
                     // Populate modal with job details
                     const modalBody = document.getElementById('modalBody');
                     modalBody.innerHTML = `
                         <p><i class="bi bi-building" style="margin-right: 5px;"></i> <strong>Company:</strong> ${data.company}</p>
                         <p><i class="bi bi-person" style="margin-right: 5px;"></i> <strong>Position:</strong> ${data.position}</p>
                         <p><i class="bi bi-briefcase-fill" style="margin-right: 5px;"></i> <strong>Type:</strong> ${data.employment_type}</p>
                         <p><i class="bi bi-person-badge-fill" style="margin-right: 5px;"></i> <strong>Experience:</strong> ${data.min_experience} years to ${data.max_experience} years</p>
                         <p><i class="bi bi-geo-alt-fill" style="margin-right: 5px;"></i> <strong>Location:</strong> ${data.location}</p>
                         <p><i class="bi bi-clock-fill" style="margin-right: 5px;"></i> <strong>Posted:</strong> ${data.date_posted}</p>
                     `;
 
                     // Show the modal
                     const jobModal = new bootstrap.Modal(document.getElementById('jobModal'));
                     jobModal.show();
                 })
                 .catch(error => {
                     console.error('Error fetching job details:', error);
                 });
         });
     });
 });
 
    </script>
 
    </body>
</html>
  